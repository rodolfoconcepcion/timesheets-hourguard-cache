<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Common.Collections.ObjectList">
<Description><![CDATA[
<pre>
TD AMERITRADE CONFIDENTIAL CONTROLLED.  DO NOT COPY OR DISTRIBUTE FURTHER.
Â© 2012 ThinkTech, Inc.  All rights reserved.

Revision History
------------------------------------------------
2012-04-03    andrew.watt    Created.
------------------------------------------------

A typed list of objects.
</pre>]]></Description>
<IncludeCode>Exceptions</IncludeCode>
<Super>%RegisteredObject,%Collection.AbstractIterator</Super>
<TimeCreated>62546,57130.631537</TimeCreated>
<Inheritance>right</Inheritance>

<Property name="Classname">
<Description>
Classname of the objects in this list</Description>
<Type>%String</Type>
<ReadOnly>1</ReadOnly>
</Property>

<Property name="Objects">
<Internal>1</Internal>
<MultiDimensional>1</MultiDimensional>
<Private>1</Private>
</Property>

<Method name="%OnNew">
<Internal>1</Internal>
<FormalSpec>ids:Common.Collections.AbstractIdList</FormalSpec>
<Private>1</Private>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	s classname=ids.GetClassname()
	for i=1:1:ids.Count() {
		s id=ids.GetAt(i)
		s obj=$system.OBJ.OpenId(classname,id)
		if '$isobject(obj) {
			$$$ThrowMessage("Could not open instance of "_classname)
		}
		s ..Objects(i)=obj
	}
	s i%Classname=classname
	q $$$OK
]]></Implementation>
</Method>

<Method name="Count">
<Description>
Get the number of objects in this list</Description>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[	q +$o(..Objects(""),-1)
]]></Implementation>
</Method>

<Method name="GetAt">
<Description>
Get the object at the specified index</Description>
<FormalSpec>index:%Integer</FormalSpec>
<ReturnType>%RegisteredObject</ReturnType>
<Implementation><![CDATA[	q ..Objects(index)
]]></Implementation>
</Method>

<Method name="GetNext">
<Description>
%Collection.AbstractIterator implementation</Description>
<FormalSpec><![CDATA[&key:%Integer]]></FormalSpec>
<ReturnType>%RegisteredObject</ReturnType>
<Implementation><![CDATA[
	s:'$d(key) key=""
	s key=$o(..Objects(key),1,val)
	q $s(key="":"",1:val)
]]></Implementation>
</Method>

<Method name="Next">
<Description>
%Collection.AbstractIterator implementation</Description>
<FormalSpec>key:%Integer=""</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[	q $o(..Objects(key))
]]></Implementation>
</Method>

<Method name="CreateFromIds">
<Description>
Create a new instance, opening objects using the type and ids in the specified list</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>idList:Common.Collections.AbstractIdList</FormalSpec>
<Implementation><![CDATA[	q ..%New(idList)
]]></Implementation>
</Method>
</Class>
</Export>
